<!DOCTYPE html>
<html>
<head>
    <title>매직넘버 매트릭스 테스트</title>
</head>
<body>
    <h1>매직넘버 매트릭스 테스트</h1>
    <div id="test-output"></div>
    
    <h2>데이터 로드 테스트</h2>
    <button onclick="testDataLoad()">데이터 로드 테스트</button>
    
    <h2>매트릭스 테이블</h2>
    <table class="namuwiki-magic-table" id="namuwiki-magic-table">
        <!-- 여기에 테이블이 생성됩니다 -->
    </table>

    <script>
        async function testDataLoad() {
            try {
                console.log('🔍 데이터 로드 시작...');
                const response = await fetch(`./magic-number/namuwiki-data.json?v=${Date.now()}`);
                const data = await response.json();
                console.log('✅ 데이터 로드 성공:', data);
                
                document.getElementById('test-output').innerHTML = `
                    <p>✅ 데이터 로드 성공!</p>
                    <p>첫 번째 팀: ${data.teams[0].name} (${data.teams[0].rank}위)</p>
                    <p>두 번째 팀: ${data.teams[1].name} (${data.teams[1].rank}위)</p>
                    <p>업데이트: ${data.updateDate}</p>
                `;
                
                // 매트릭스 렌더링 시도
                if (window.namuwikiChart) {
                    await window.namuwikiChart.render();
                } else {
                    console.error('❌ namuwikiChart 인스턴스를 찾을 수 없음');
                }
                
            } catch (error) {
                console.error('❌ 데이터 로드 실패:', error);
                document.getElementById('test-output').innerHTML = `<p>❌ 실패: ${error.message}</p>`;
            }
        }
    </script>
    
    <script src="magic-number/magic-matrix-renderer.js"></script>
</body>
</html>